schema: '2.0'
stages:
  ReadNPZ_1:
    cmd: zntrack run src.ReadNPZ --name ReadNPZ_1
    deps:
    - path: data
      hash: md5
      md5: acf760c97d2466ffa190a5b6c58fe260.dir
      size: 249204412
      nfiles: 67167
    params:
      params.yaml:
        ReadNPZ_1:
          regex: 4comp.cfg_valid_0
    outs:
    - path: nodes/ReadNPZ_1/atoms.h5
      hash: md5
      md5: ae947b2471ec070338fcef33402ebac0
      size: 2971432
    - path: nodes/ReadNPZ_1/node-meta.json
      hash: md5
      md5: 846d29e8633ab0d18a02b30574c7f0e9
      size: 48
  ReadNPZ:
    cmd: zntrack run src.ReadNPZ --name ReadNPZ
    deps:
    - path: data
      hash: md5
      md5: acf760c97d2466ffa190a5b6c58fe260.dir
      size: 249204412
      nfiles: 67167
    params:
      params.yaml:
        ReadNPZ:
          regex: 4comp.cfg_train_0
    outs:
    - path: nodes/ReadNPZ/atoms.h5
      hash: md5
      md5: bcf724be9b59ab302315059dae7fef7f
      size: 11751288
    - path: nodes/ReadNPZ/node-meta.json
      hash: md5
      md5: 820fdb514329534eb1979e0a73433d8c
      size: 48
  MLModel:
    cmd: zntrack run ipsuite.nodes.MACE --name MLModel
    deps:
    - path: nodes/ReadNPZ/atoms.h5
      hash: md5
      md5: bcf724be9b59ab302315059dae7fef7f
      size: 11751288
    - path: nodes/ReadNPZ/node-meta.json
      hash: md5
      md5: 820fdb514329534eb1979e0a73433d8c
      size: 48
    - path: nodes/ReadNPZ_1/atoms.h5
      hash: md5
      md5: ae947b2471ec070338fcef33402ebac0
      size: 2971432
    - path: nodes/ReadNPZ_1/node-meta.json
      hash: md5
      md5: 846d29e8633ab0d18a02b30574c7f0e9
      size: 48
    params:
      params.yaml:
        MLModel:
          use_energy: true
          use_forces: true
          use_stresses: false
      mace.yaml:
        E0s: average
        batch_size: 16
        clip_grad: 1.0
        correlation: 3
        ema: true
        ema_decay: 0.99
        eval_interval: 1
        forces_weight: 100
        max_L: 2
        max_num_epochs: 1200
        num_channels: 64
        num_cutoff_basis: 5
        num_interactions: 2
        num_radial_basis: 8
        patience: 200
        r_max: 4.7
        seed: 42
        start_swa: 600
        swa: true
        valid_batch_size: 16
    outs:
    - path: nodes/MLModel/model
      hash: md5
      md5: 11b66213b0bc9a7c7e96f1f88eb0c10f.dir
      size: 141812405
      nfiles: 8
    - path: nodes/MLModel/node-meta.json
      hash: md5
      md5: 7f891b9991d5f3732f30b2972683255a
      size: 48
    - path: nodes/MLModel/test-data.extxyz
      hash: md5
      md5: f351b284b00b3d01911354864a27d10a
      size: 620849
    - path: nodes/MLModel/train-data.extxyz
      hash: md5
      md5: f47f46ca34bcc431cfac834eb1d9d4dc
      size: 2459387
    - path: nodes/MLModel/training.csv
      hash: md5
      md5: 094594cb971f17ade788c569a9d9e236
      size: 201191
  Prediction:
    cmd: zntrack run ipsuite.nodes.Prediction --name Prediction
    deps:
    - path: nodes/MLModel/model
      hash: md5
      md5: 11b66213b0bc9a7c7e96f1f88eb0c10f.dir
      size: 141812405
      nfiles: 8
    - path: nodes/MLModel/node-meta.json
      hash: md5
      md5: 7f891b9991d5f3732f30b2972683255a
      size: 48
    - path: nodes/MLModel/test-data.extxyz
      hash: md5
      md5: f351b284b00b3d01911354864a27d10a
      size: 620849
    - path: nodes/MLModel/train-data.extxyz
      hash: md5
      md5: f47f46ca34bcc431cfac834eb1d9d4dc
      size: 2459387
    - path: nodes/MLModel/training.csv
      hash: md5
      md5: 094594cb971f17ade788c569a9d9e236
      size: 201191
    - path: nodes/ReadNPZ_1/atoms.h5
      hash: md5
      md5: ae947b2471ec070338fcef33402ebac0
      size: 2971432
    - path: nodes/ReadNPZ_1/node-meta.json
      hash: md5
      md5: 846d29e8633ab0d18a02b30574c7f0e9
      size: 48
    outs:
    - path: nodes/Prediction/atoms.h5
      hash: md5
      md5: 589ba7304143e50d208da3d85a0228be
      size: 2977424
    - path: nodes/Prediction/node-meta.json
      hash: md5
      md5: 794a7f3c441589a2886a630e20482ee4
      size: 48
  PredictionMetrics:
    cmd: zntrack run ipsuite.nodes.PredictionMetrics --name PredictionMetrics
    deps:
    - path: nodes/Prediction/atoms.h5
      hash: md5
      md5: 589ba7304143e50d208da3d85a0228be
      size: 2977424
    - path: nodes/Prediction/node-meta.json
      hash: md5
      md5: 794a7f3c441589a2886a630e20482ee4
      size: 48
    outs:
    - path: nodes/PredictionMetrics/deviat_stress.json
      hash: md5
      md5: 94b9d7fedf6d36847201aee228bce67e
      size: 163
    - path: nodes/PredictionMetrics/energy.json
      hash: md5
      md5: d72b76e0122ad57dffc26c239ac532b0
      size: 163
    - path: nodes/PredictionMetrics/energy_df.csv
      hash: md5
      md5: 9e3095cac36ecd21fde1af561c21bbc8
      size: 4213
    - path: nodes/PredictionMetrics/forces.json
      hash: md5
      md5: 9eb11a7ee4038a2694da954aab3795c3
      size: 167
    - path: nodes/PredictionMetrics/forces_df.csv
      hash: md5
      md5: 1944f105c3b818529b7d30074201bdd8
      size: 766743
    - path: nodes/PredictionMetrics/hydro_stress.json
      hash: md5
      md5: 87de4ee596dc48c32ffe13ab4678ef9e
      size: 157
    - path: nodes/PredictionMetrics/node-meta.json
      hash: md5
      md5: 16945208d907fa7c8c39cefd42cd2acd
      size: 48
    - path: nodes/PredictionMetrics/plots
      hash: md5
      md5: d817de99c320e131c805e18bb25b1e40.dir
      size: 277579
      nfiles: 5
    - path: nodes/PredictionMetrics/stress.json
      hash: md5
      md5: 7ea9e8ec9b20f37be25ab8787bda2e06
      size: 158
    - path: nodes/PredictionMetrics/stress_deviatoric_df.csv
      hash: md5
      md5: 88325db9097d381ec232fabe1b267ad3
      size: 41148
    - path: nodes/PredictionMetrics/stress_df.csv
      hash: md5
      md5: 16c6352573bd0c84408547d4b7110fe9
      size: 36707
    - path: nodes/PredictionMetrics/stress_hydrostatic_df.csv
      hash: md5
      md5: ae3b2b0c2b5b1b879322efceceef348e
      size: 5074
