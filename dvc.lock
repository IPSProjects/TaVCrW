schema: '2.0'
stages:
  ReadNPZ_1:
    cmd: zntrack run src.ReadNPZ --name ReadNPZ_1
    deps:
    - path: data
      hash: md5
      md5: 6286f5d842e836292740d14fc4998159.dir
      size: 249204412
      nfiles: 67117
    params:
      params.yaml:
        ReadNPZ_1:
          regex: 4comp.cfg_valid_0
    outs:
    - path: nodes/ReadNPZ_1/atoms.h5
      hash: md5
      md5: bf53178639cadcac6799953490ab0d9d
      size: 2971432
    - path: nodes/ReadNPZ_1/node-meta.json
      hash: md5
      md5: 9d28aa8b0cc5f6c9f8c69db9f89566c4
      size: 48
  ReadNPZ:
    cmd: zntrack run src.ReadNPZ --name ReadNPZ
    deps:
    - path: data
      hash: md5
      md5: 6286f5d842e836292740d14fc4998159.dir
      size: 249204412
      nfiles: 67117
    params:
      params.yaml:
        ReadNPZ:
          regex: 4comp.cfg_train_*
    outs:
    - path: nodes/ReadNPZ/atoms.h5
      hash: md5
      md5: 3f7bac0e01db90363679dd073eeca7c4
      size: 116124056
    - path: nodes/ReadNPZ/node-meta.json
      hash: md5
      md5: 89017625f783c3e27a2b96eecbc592f9
      size: 48
  MLModel:
    cmd: zntrack run ipsuite.nodes.MACE --name MLModel
    deps:
    - path: nodes/ReadNPZ/atoms.h5
      hash: md5
      md5: 5add39d607eb903e595b371d53188206
      size: 11751288
    - path: nodes/ReadNPZ/node-meta.json
      hash: md5
      md5: 8e451528d150697472c80ffd370f3974
      size: 48
    - path: nodes/ReadNPZ_1/atoms.h5
      hash: md5
      md5: bf53178639cadcac6799953490ab0d9d
      size: 2971432
    - path: nodes/ReadNPZ_1/node-meta.json
      hash: md5
      md5: 9d28aa8b0cc5f6c9f8c69db9f89566c4
      size: 48
    params:
      params.yaml:
        MLModel:
          use_energy: true
          use_forces: true
          use_stresses: false
      mace.yaml:
        E0s: average
        batch_size: 2
        clip_grad: 1.0
        correlation: 2
        ema: true
        ema_decay: 0.99
        eval_interval: 4
        forces_weight: 100
        max_L: 2
        max_num_epochs: 2000
        num_channels: 128
        num_cutoff_basis: 5
        num_interactions: 2
        num_radial_basis: 8
        patience: 20
        r_max: 5.0
        seed: 42
        start_swa: 1000
        swa: true
        valid_batch_size: 2
    outs:
    - path: nodes/MLModel/model
      hash: md5
      md5: 312f66cdc0d9271f6aa9ba82fe69ec0c.dir
      size: 128838418
      nfiles: 8
    - path: nodes/MLModel/node-meta.json
      hash: md5
      md5: 96d3ea849df2981772893d55313f907c
      size: 48
    - path: nodes/MLModel/test-data.extxyz
      hash: md5
      md5: 3c9e9d66817c626de9def3186b219811
      size: 620849
    - path: nodes/MLModel/train-data.extxyz
      hash: md5
      md5: 3c0fd595bcf59fcb935e8d74d68ee3c9
      size: 2459387
    - path: nodes/MLModel/training.csv
      hash: md5
      md5: 5197fdc954ec8ef8d8711fb533e73c52
      size: 88323
  Prediction:
    cmd: zntrack run ipsuite.nodes.Prediction --name Prediction
    deps:
    - path: nodes/MLModel/model
      hash: md5
      md5: 312f66cdc0d9271f6aa9ba82fe69ec0c.dir
      size: 128838418
      nfiles: 8
    - path: nodes/MLModel/node-meta.json
      hash: md5
      md5: 96d3ea849df2981772893d55313f907c
      size: 48
    - path: nodes/MLModel/test-data.extxyz
      hash: md5
      md5: 3c9e9d66817c626de9def3186b219811
      size: 620849
    - path: nodes/MLModel/train-data.extxyz
      hash: md5
      md5: 3c0fd595bcf59fcb935e8d74d68ee3c9
      size: 2459387
    - path: nodes/MLModel/training.csv
      hash: md5
      md5: 5197fdc954ec8ef8d8711fb533e73c52
      size: 88323
    - path: nodes/ReadNPZ_1/atoms.h5
      hash: md5
      md5: bf53178639cadcac6799953490ab0d9d
      size: 2971432
    - path: nodes/ReadNPZ_1/node-meta.json
      hash: md5
      md5: 9d28aa8b0cc5f6c9f8c69db9f89566c4
      size: 48
    outs:
    - path: nodes/Prediction/atoms.h5
      hash: md5
      md5: 791b6130e49863134b1917256acf960a
      size: 2977424
    - path: nodes/Prediction/node-meta.json
      hash: md5
      md5: 9b8074be65f8adf63388bc55d465ee14
      size: 48
