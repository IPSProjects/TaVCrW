schema: '2.0'
stages:
  ReadNPZ_1:
    cmd: zntrack run src.ReadNPZ --name ReadNPZ_1
    deps:
    - path: data
      hash: md5
      md5: acf760c97d2466ffa190a5b6c58fe260.dir
      size: 249204412
      nfiles: 67167
    params:
      params.yaml:
        ReadNPZ_1:
          regex: 4comp.cfg_valid_4
    outs:
    - path: nodes/ReadNPZ_1/atoms.h5
      hash: md5
      md5: 386780dae7f73f3e79a4034cc14761fc
      size: 2971432
    - path: nodes/ReadNPZ_1/node-meta.json
      hash: md5
      md5: 9a5b390dff0ea4d215831ae29b0099b7
      size: 48
  ReadNPZ:
    cmd: zntrack run src.ReadNPZ --name ReadNPZ
    deps:
    - path: data
      hash: md5
      md5: acf760c97d2466ffa190a5b6c58fe260.dir
      size: 249204412
      nfiles: 67167
    params:
      params.yaml:
        ReadNPZ:
          regex: 4comp.cfg_train_4
    outs:
    - path: nodes/ReadNPZ/atoms.h5
      hash: md5
      md5: 87e586df5e88707b299fe02a8d4eb1f8
      size: 11751288
    - path: nodes/ReadNPZ/node-meta.json
      hash: md5
      md5: df959afa29efd8fa7dcc52e8579f4ad3
      size: 48
  MLModel:
    cmd: zntrack run ipsuite.nodes.MACE --name MLModel
    deps:
    - path: nodes/ReadNPZ/atoms.h5
      hash: md5
      md5: 87e586df5e88707b299fe02a8d4eb1f8
      size: 11751288
    - path: nodes/ReadNPZ/node-meta.json
      hash: md5
      md5: df959afa29efd8fa7dcc52e8579f4ad3
      size: 48
    - path: nodes/ReadNPZ_1/atoms.h5
      hash: md5
      md5: 386780dae7f73f3e79a4034cc14761fc
      size: 2971432
    - path: nodes/ReadNPZ_1/node-meta.json
      hash: md5
      md5: 9a5b390dff0ea4d215831ae29b0099b7
      size: 48
    params:
      params.yaml:
        MLModel:
          use_energy: true
          use_forces: true
          use_stresses: false
      mace.yaml:
        E0s: average
        batch_size: 16
        clip_grad: 1.0
        correlation: 3
        ema: true
        ema_decay: 0.99
        eval_interval: 1
        forces_weight: 100
        max_L: 2
        max_num_epochs: 1200
        num_channels: 64
        num_cutoff_basis: 5
        num_interactions: 2
        num_radial_basis: 8
        patience: 200
        r_max: 4.7
        seed: 42
        start_swa: 600
        swa: true
        valid_batch_size: 16
    outs:
    - path: nodes/MLModel/model
      hash: md5
      md5: 22d678c146de38701cbdf28fcbb6eb1c.dir
      size: 141816646
      nfiles: 8
    - path: nodes/MLModel/node-meta.json
      hash: md5
      md5: 1427a31d8f78fff9283c8f68bdff839a
      size: 48
    - path: nodes/MLModel/test-data.extxyz
      hash: md5
      md5: d321b3f7e99567994dd288bb42684b8d
      size: 679579
    - path: nodes/MLModel/train-data.extxyz
      hash: md5
      md5: c6771d1cf6339de32a20e4155ef67cce
      size: 2400657
    - path: nodes/MLModel/training.csv
      hash: md5
      md5: c9e0e4641a91f9dedcee99848128fbe8
      size: 201524
  Prediction:
    cmd: zntrack run ipsuite.nodes.Prediction --name Prediction
    deps:
    - path: nodes/MLModel/model
      hash: md5
      md5: 22d678c146de38701cbdf28fcbb6eb1c.dir
      size: 141816646
      nfiles: 8
    - path: nodes/MLModel/node-meta.json
      hash: md5
      md5: 1427a31d8f78fff9283c8f68bdff839a
      size: 48
    - path: nodes/MLModel/test-data.extxyz
      hash: md5
      md5: d321b3f7e99567994dd288bb42684b8d
      size: 679579
    - path: nodes/MLModel/train-data.extxyz
      hash: md5
      md5: c6771d1cf6339de32a20e4155ef67cce
      size: 2400657
    - path: nodes/MLModel/training.csv
      hash: md5
      md5: c9e0e4641a91f9dedcee99848128fbe8
      size: 201524
    - path: nodes/ReadNPZ_1/atoms.h5
      hash: md5
      md5: 386780dae7f73f3e79a4034cc14761fc
      size: 2971432
    - path: nodes/ReadNPZ_1/node-meta.json
      hash: md5
      md5: 9a5b390dff0ea4d215831ae29b0099b7
      size: 48
    outs:
    - path: nodes/Prediction/atoms.h5
      hash: md5
      md5: 8e0fb9c446943a64f012abf7a33c6cfa
      size: 2977424
    - path: nodes/Prediction/node-meta.json
      hash: md5
      md5: f308c69414f022f65964748672c02f19
      size: 48
  PredictionMetrics:
    cmd: zntrack run ipsuite.nodes.PredictionMetrics --name PredictionMetrics
    deps:
    - path: nodes/Prediction/atoms.h5
      hash: md5
      md5: 8e0fb9c446943a64f012abf7a33c6cfa
      size: 2977424
    - path: nodes/Prediction/node-meta.json
      hash: md5
      md5: f308c69414f022f65964748672c02f19
      size: 48
    outs:
    - path: nodes/PredictionMetrics/deviat_stress.json
      hash: md5
      md5: 89f78f5b1d81ccf03561b03e03f4c95a
      size: 191
    - path: nodes/PredictionMetrics/energy.json
      hash: md5
      md5: 8be2b32d30c586d65ec0df581af16c9e
      size: 194
    - path: nodes/PredictionMetrics/energy_df.csv
      hash: md5
      md5: f962a8c88073d5e281a182b9d3fa352a
      size: 4720
    - path: nodes/PredictionMetrics/forces.json
      hash: md5
      md5: 75416e645e206bec33dfc87317a49ee4
      size: 193
    - path: nodes/PredictionMetrics/forces_df.csv
      hash: md5
      md5: 9e78e2c03f7d98ec6d9741ef75901dd2
      size: 803030
    - path: nodes/PredictionMetrics/hydro_stress.json
      hash: md5
      md5: 7f43a65ebd0c3667f9d665f11f4cab35
      size: 186
    - path: nodes/PredictionMetrics/node-meta.json
      hash: md5
      md5: 58a3e9a997c842e2067a49de7141bcad
      size: 48
    - path: nodes/PredictionMetrics/plots
      hash: md5
      md5: 464b38762d54c3c6a0d459a73cbcf0c1.dir
      size: 244454
      nfiles: 5
    - path: nodes/PredictionMetrics/stress.json
      hash: md5
      md5: abe7b19388867128e857d78eceee4fb6
      size: 188
    - path: nodes/PredictionMetrics/stress_deviatoric_df.csv
      hash: md5
      md5: 442a724b37af195f4319257ead141c60
      size: 41173
    - path: nodes/PredictionMetrics/stress_df.csv
      hash: md5
      md5: 6652338f84596c0bb405f858147ba4e3
      size: 36775
    - path: nodes/PredictionMetrics/stress_hydrostatic_df.csv
      hash: md5
      md5: 86d6a0e25d2a60c96af82dabf1ac3c90
      size: 5074
